/* === TÉMAVÁLTÓ KAPCSOLÓ === */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 70px;
    height: 34px;
}
.lang-switch {
    perspective: 1000px; 
}
.toggle-switch input { opacity: 0; width: 0; height: 0; }
.toggle-slider {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    transition: .4s;
    border-radius: 34px;
    overflow: hidden; 
    background-color: #e2e8f0; 
    border: 2px solid rgba(0,0,0,0.1);
    box-shadow: inset 0 1px 1px rgba(255,255,255,0.7), 0 2px 4px rgba(0,0,0,0.2);
}
.dark .toggle-slider {
    background-color: #1e293b; 
    border: 2px solid rgba(0,0,0,0.4);
    box-shadow: inset 0 1px 1px rgba(255,255,255,0.1), 0 2px 4px rgba(0,0,0,0.4);
}
.toggle-slider::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    border-radius: 34px;
    box-shadow: inset 0 4px 6px -1px rgba(0, 0, 0, 0.662), inset 0 -2px 2px rgba(255,255,255,0.5);
    z-index: 1; 
}
.dark .toggle-slider::before {
    box-shadow: inset 0 4px 6px -1px rgba(0,0,0,0.8), inset 0 -2px 2px rgba(255,255,255,0.1);
}

/* === NYELVVÁLTÓ === */
.lang-bg {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    transition: opacity 0.4s ease-in-out;
}
.lang-bg svg {
    width: 100%; height: 100%;
    object-fit: cover; transform: scale(1.1); 
}
.lang-bg-en { opacity: 0; }
input:checked + .lang-slider .lang-bg-hu { opacity: 0; }
#lang-checkbox:checked + .lang-slider .lang-bg-en, #lang-checkbox-mobile:checked + .lang-slider .lang-bg-en { opacity: 1; }

/* === KAPCSOLÓ GOMBJA === */
.toggle-thumb {
    position: absolute;
    content: "";
    height: 24px; width: 24px;
    left: 4px; top: 50%;
    transform: translateY(-50%);
    background-color: white;
    border-radius: 50%;
    transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1), background-color 0.4s ease, box-shadow 0.4s ease;
    box-shadow: 0 0 8px 4px rgba(0,0,0,0.75);
}
.toggle-switch input:checked + .toggle-slider .toggle-thumb {
    transform: translateX(36px) translateY(-50%);
}

/* === TÉMAVÁLTÓ IKONOK (NAP, HOLD, CSILLAGOK, FELHŐK) === */
#theme-checkbox:checked + .toggle-slider,
#theme-checkbox-mobile:checked + .toggle-slider { background-color: #1e293b; }
#theme-checkbox:not(:checked) + .toggle-slider,
#theme-checkbox-mobile:not(:checked) + .toggle-slider { background-color: #87CEEB; }

.toggle-thumb.theme-thumb { 
    z-index: 2; 
    background-color: #fdd835; 
    box-shadow: 0 0 10px #fdd835; 
    background-image: none; 
}
#theme-checkbox:checked + .toggle-slider .toggle-thumb.theme-thumb,
#theme-checkbox-mobile:checked + .toggle-slider .toggle-thumb.theme-thumb { 
    z-index: 2; 
    background-color: #f5f5f5; 
    box-shadow: 0 0 10px #f5f5f5; 
}

.cloud { 
    position: absolute; 
    background: #fff; 
    border-radius: 50%; 
    opacity: 1; 
    transition: opacity 0.5s ease, transform 0.5s ease; 
    z-index: 1; 
}
.cloud.c1 { width: 18px; height: 12px; top: 14px; left: 15px; transform: translateX(0); }
.cloud.c2 { width: 22px; height: 14px; top: 6px; left: 30px; transform: translateX(0); }
#theme-checkbox:checked + .toggle-slider .cloud,
#theme-checkbox-mobile:checked + .toggle-slider .cloud { 
    opacity: 0; 
    transform: translateX(-20px); 
}

.star { 
    position: absolute; 
    background: #fff; 
    border-radius: 50%; 
    opacity: 0; 
    transition: opacity 0.5s ease 0.2s, transform 0.5s ease 0.2s; 
    transform: translateY(10px); 
}
.star.s1 { width: 1px; height: 1px; top: 8px; left: 10px; }
.star.s2 { width: 2px; height: 2px; top: 15px; left: 25px; }
.star.s3 { width: 1px; height: 1px; top: 6px; left: 45px; }
.star.s4 { width: 1px; height: 1px; top: 20px; left: 55px; }
#theme-checkbox:checked + .toggle-slider .star,
#theme-checkbox-mobile:checked + .toggle-slider .star { 
    opacity: 1; 
    transform: translateY(0); 
}

.invert { filter: invert(1); }
